{"version":3,"file":"helpers-DjcVmIZv.js","sources":["../../src/js/storage.js","../../src/js/helpers.js"],"sourcesContent":["//Робота з loacalStorage\nexport function useLocalStorage(key, initialValue) {\n  let storedValue = '';\n\n  try {\n    const item = localStorage.getItem(key);\n    storedValue = item\n                  ? JSON.parse(item)\n                  : initialValue;\n  }\n  catch (error) {\n    console.error('Error reading data localStorage:', error);\n  }\n\n  function setValue(value) {\n    try {\n      storedValue = typeof value === 'function'\n                    ? value(storedValue)\n                    : value;\n      localStorage.setItem(key, JSON.stringify(storedValue));\n    }\n    catch (error) {\n      console.error('Error set data to localStorage:', error);\n    }\n  }\n\n  return [storedValue,setValue]\n}\n","import { useLocalStorage } from './storage.js';\nimport { renderNotFound, renderProducts } from './render-function.js';\nimport { CART_KEY } from './constants.js';\nimport { refs } from './refs.js';\n\nexport async function fetchDataById(id) {\n  const response = await fetch(`https://dummyjson.com/products/${id}`);\n  if (!response.ok) {\n    throw new Error(`Failed to fetch id: ${id}`);\n  }\n  return await response.json();\n}\n\nexport async function fetchAllData(key) {\n  const [products] = useLocalStorage(key)\n  try {\n    const requests = products.map(id => fetchDataById(id));\n    return await Promise.all(requests);\n  }\n  catch (error) {\n    console.error('Error fetching data:', error);\n  }\n}\n\nexport function getTotalPrice(items) {\n  let total = 0;\n  if (Array.isArray(items)) {\n    items.forEach(product => {\n      total += product.price;\n    });\n  }\n  return total;\n}\n\nexport function setTotalPrice(data) {\n  const priceEl = document.querySelector('.cart-summary__value[data-price]');\n  priceEl.textContent = '$' + getTotalPrice(data);\n}\n\nexport function setTotalElements(element,data) {\n  element.textContent = data.length;\n}\n\nexport function filterProducts(products,value) {\n  return products.filter(product => product.title.toLowerCase().includes(value.toLowerCase()))\n}\n\nexport function renderFilteredData(products) {\n  if (products.length) {\n    renderProducts(products);\n    renderNotFound(false);\n  } else {\n    renderProducts(products)\n    renderNotFound(true)\n  }\n}\n\n"],"names":["useLocalStorage","key","initialValue","storedValue","item","error","setValue","value","fetchDataById","id","response","fetchAllData","products","requests","getTotalPrice","items","total","product","setTotalPrice","data","priceEl","setTotalElements","element","filterProducts","renderFilteredData","renderProducts","renderNotFound"],"mappings":"mDACO,SAASA,EAAgBC,EAAKC,EAAc,CACjD,IAAIC,EAAc,GAElB,GAAI,CACF,MAAMC,EAAO,aAAa,QAAQH,CAAG,EACrCE,EAAcC,EACE,KAAK,MAAMA,CAAI,EACfF,CACjB,OACMG,EAAO,CACZ,QAAQ,MAAM,mCAAoCA,CAAK,CACxD,CAED,SAASC,EAASC,EAAO,CACvB,GAAI,CACFJ,EAAc,OAAOI,GAAU,WACfA,EAAMJ,CAAW,EACjBI,EAChB,aAAa,QAAQN,EAAK,KAAK,UAAUE,CAAW,CAAC,CACtD,OACME,EAAO,CACZ,QAAQ,MAAM,kCAAmCA,CAAK,CACvD,CACF,CAED,MAAO,CAACF,EAAYG,CAAQ,CAC9B,CCtBO,eAAeE,EAAcC,EAAI,CACtC,MAAMC,EAAW,MAAM,MAAM,kCAAkCD,CAAE,EAAE,EACnE,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBD,CAAE,EAAE,EAE7C,OAAO,MAAMC,EAAS,MACxB,CAEO,eAAeC,EAAaV,EAAK,CACtC,KAAM,CAACW,CAAQ,EAAIZ,EAAgBC,CAAG,EACtC,GAAI,CACF,MAAMY,EAAWD,EAAS,IAAIH,GAAMD,EAAcC,CAAE,CAAC,EACrD,OAAO,MAAM,QAAQ,IAAII,CAAQ,CAClC,OACMR,EAAO,CACZ,QAAQ,MAAM,uBAAwBA,CAAK,CAC5C,CACH,CAEO,SAASS,EAAcC,EAAO,CACnC,IAAIC,EAAQ,EACZ,OAAI,MAAM,QAAQD,CAAK,GACrBA,EAAM,QAAQE,GAAW,CACvBD,GAASC,EAAQ,KACvB,CAAK,EAEID,CACT,CAEO,SAASE,EAAcC,EAAM,CAClC,MAAMC,EAAU,SAAS,cAAc,kCAAkC,EACzEA,EAAQ,YAAc,IAAMN,EAAcK,CAAI,CAChD,CAEO,SAASE,EAAiBC,EAAQH,EAAM,CAC7CG,EAAQ,YAAcH,EAAK,MAC7B,CAEO,SAASI,EAAeX,EAASL,EAAO,CAC7C,OAAOK,EAAS,OAAOK,GAAWA,EAAQ,MAAM,YAAW,EAAG,SAASV,EAAM,YAAa,CAAA,CAAC,CAC7F,CAEO,SAASiB,EAAmBZ,EAAU,CACvCA,EAAS,QACXa,EAAeb,CAAQ,EACvBc,EAAe,EAAK,IAEpBD,EAAeb,CAAQ,EACvBc,EAAe,EAAI,EAEvB"}