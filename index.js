import"./assets/styles-BK7AYJoX.js";import{i as m}from"./assets/vendor-iVKk4foX.js";const l="https://dummyjson.com";async function f(){const e=await fetch(`${l}/products/categories`);if(!e.ok)throw new Error("Failed to fetch categories");return e.json()}async function g({category:e="",page:t=1,limit:c=12}={}){let r;e&&e!=="All"?r=`${l}/products/category/${encodeURIComponent(e)}?limit=${c}&skip=${(t-1)*c}`:r=`${l}/products?limit=${c}&skip=${(t-1)*c}`;const d=await fetch(r);if(!d.ok)throw new Error("Failed to fetch products");return d.json()}const o={categoriesList:document.querySelector(".categories"),productsList:document.querySelector(".products"),notFound:document.querySelector(".not-found"),get loadMoreBtn(){return document.querySelector(".load-more-btn")},searchInput:document.querySelector(".search-form__input"),searchForm:document.querySelector(".search-form"),searchClearBtn:document.querySelector(".search-form__btn-clear"),productsList:document.querySelector(".products"),modal:document.querySelector(".modal"),closeModalBtn:document.querySelector(".modal__close-btn")};function _(e,t){o.categoriesList.innerHTML=e.map(c=>`<li class="categories__item">
          <button class="categories__btn${c===t?" categories__btn--active":""}" type="button">${c}</button>
        </li>`).join("")}function y(e){o.productsList.innerHTML=e.map(t=>`<li class="products__item" data-id="${t.id}">
          <img class="products__image" src="${t.thumbnail}" alt="${t.title}"/>
          <p class="products__title">${t.title}</p>
          <p class="products__brand"><span class="products__brand--bold">Brand:</span> ${t.brand}</p>
          <p class="products__category">Category: ${t.category}</p>
          <p class="products__price">Price: $${t.price}</p>
        </li>`).join("")}function b(e){o.productsList.insertAdjacentHTML("beforeend",e.map(t=>`<li class="products__item" data-id="${t.id}">
            <img class="products__image" src="${t.thumbnail}" alt="${t.title}"/>
            <p class="products__title">${t.title}</p>
            <p class="products__brand"><span class="products__brand--bold">Brand:</span> ${t.brand}</p>
            <p class="products__category">Category: ${t.category}</p>
            <p class="products__price">Price: $${t.price}</p>
          </li>`).join(""))}function $(e){e?o.notFound.classList.add("not-found--visible"):o.notFound.classList.remove("not-found--visible")}const a=12;let n="All",s=1,i=0;async function L(){try{let e=await f();e=["All",...e],_(e,n),o.categoriesList.addEventListener("click",h),u()}catch{m.error({message:"Не вдалося завантажити категорії"})}}async function u(e=!0){try{e&&(s=1,o.productsList.innerHTML="");const{products:t,total:c}=await g({category:n,page:s,limit:a});if(i=c,e?y(t):b(t),$(!t.length),o.loadMoreBtn)o.loadMoreBtn.style.display=s*a<i?"":"none",o.loadMoreBtn.onclick=p;else if(s*a<i){const r=document.createElement("button");r.textContent="Load More",r.className="load-more-btn",o.productsList.after(r),r.onclick=p}}catch{m.error({message:"Не вдалося завантажити продукти"})}}function h(e){e.target.classList.contains("categories__btn")&&(n=e.target.textContent,_([...o.categoriesList.querySelectorAll(".categories__btn")].map(t=>t.textContent),n),u(!0))}function p(){s+=1,u(!1)}document.addEventListener("DOMContentLoaded",L);
//# sourceMappingURL=index.js.map
