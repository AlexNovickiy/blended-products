{"version":3,"file":"cart.js","sources":["../src/cart.js"],"sourcesContent":["//Логіка сторінки Cart\nimport {\n  fetchAllData, filterProducts, renderFilteredData,\n  setTotalElements,\n  setTotalPrice,\n} from './js/helpers.js';\nimport { refs } from './js/refs.js';\nimport { renderNotFound, renderProducts } from './js/render-function.js';\nimport { CART_KEY, WISHLIST_KEY } from './js/constants.js';\nimport { useLocalStorage } from './js/storage.js';\n\nrefs.searchForm.addEventListener('submit', handleSubmitSearchForm);\nrefs.searchClearBtn.addEventListener('click', handleClearData);\n\nasync function handleClearData() {\n  const cartData = await fetchAllData(CART_KEY);\n  refs.searchInput.value = '';\n  renderFilteredData(cartData);\n}\n\nasync function renderData() {\n  const cartData = await fetchAllData(CART_KEY);\n  const [wishlistData] = useLocalStorage(WISHLIST_KEY);\n\n  if (Array.isArray(cartData) && cartData.length) {\n    renderNotFound(false);\n    renderProducts(cartData);\n    setTotalPrice(cartData);\n    setTotalElements(refs.headerCartSummary, cartData);\n    setTotalElements(refs.wishlistHeaderSummary, wishlistData);\n    setTotalElements(refs.cartSummary, cartData);\n  } else {\n    renderNotFound(true);\n  }\n}\n\nasync function handleSubmitSearchForm(e) {\n  e.preventDefault();\n  const cartData = await fetchAllData(CART_KEY);\n  const searchValue = e.target.elements.searchValue.value;\n  if (searchValue.trim()) {\n    const filteredProducts = filterProducts(cartData, searchValue);\n    renderFilteredData(filteredProducts);\n  }\n}\n\nrenderData();\n\n\n"],"names":["refs","handleSubmitSearchForm","handleClearData","cartData","fetchAllData","CART_KEY","renderFilteredData","renderData","wishlistData","useLocalStorage","WISHLIST_KEY","renderNotFound","renderProducts","setTotalPrice","setTotalElements","e","searchValue","filteredProducts","filterProducts"],"mappings":"mKAWAA,EAAK,WAAW,iBAAiB,SAAUC,CAAsB,EACjED,EAAK,eAAe,iBAAiB,QAASE,CAAe,EAE7D,eAAeA,GAAkB,CAC/B,MAAMC,EAAW,MAAMC,EAAaC,CAAQ,EAC5CL,EAAK,YAAY,MAAQ,GACzBM,EAAmBH,CAAQ,CAC7B,CAEA,eAAeI,GAAa,CAC1B,MAAMJ,EAAW,MAAMC,EAAaC,CAAQ,EACtC,CAACG,CAAY,EAAIC,EAAgBC,CAAY,EAE/C,MAAM,QAAQP,CAAQ,GAAKA,EAAS,QACtCQ,EAAe,EAAK,EACpBC,EAAeT,CAAQ,EACvBU,EAAcV,CAAQ,EACtBW,EAAiBd,EAAK,kBAAmBG,CAAQ,EACjDW,EAAiBd,EAAK,sBAAuBQ,CAAY,EACzDM,EAAiBd,EAAK,YAAaG,CAAQ,GAE3CQ,EAAe,EAAI,CAEvB,CAEA,eAAeV,EAAuBc,EAAG,CACvCA,EAAE,eAAc,EAChB,MAAMZ,EAAW,MAAMC,EAAaC,CAAQ,EACtCW,EAAcD,EAAE,OAAO,SAAS,YAAY,MAClD,GAAIC,EAAY,OAAQ,CACtB,MAAMC,EAAmBC,EAAef,EAAUa,CAAW,EAC7DV,EAAmBW,CAAgB,CACpC,CACH,CAEAV,EAAY"}